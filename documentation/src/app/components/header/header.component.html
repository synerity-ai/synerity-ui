<header class="header">
  <div class="header-container">
    <!-- Logo and Brand -->
    <div class="header-brand">
      <a routerLink="/" class="brand-link">
        <svg class="brand-logo w-8 h-8" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="32" height="32" rx="8" fill="currentColor"/>
          <path d="M8 12h16v8H8z" fill="white"/>
          <circle cx="16" cy="16" r="3" fill="currentColor"/>
        </svg>
        <span class="brand-text">Synerity UI</span>
      </a>
    </div>

    <!-- Desktop Navigation -->
    <nav class="header-nav desktop-nav">
      <ul class="nav-list">
        <li class="nav-item">
          <a routerLink="/" routerLinkActive="active" class="nav-link">
            Home
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/components" routerLinkActive="active" class="nav-link">
            Components
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/getting-started" routerLinkActive="active" class="nav-link">
            Getting Started
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/installation" routerLinkActive="active" class="nav-link">
            Installation
          </a>
        </li>
      </ul>
    </nav>

    <!-- Header Actions -->
    <div class="header-actions">
      <!-- Search -->
      <div class="search-container">
        <div class="relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
          <input 
            type="text" 
            class="search-input w-64 pl-10 pr-4 py-2"
            placeholder="Search components..."
            (input)="onSearchInput($event)"
            [value]="searchQuery()"
            autocomplete="off">
          
          @if (searchQuery() && hasResults()) {
            <div class="search-dropdown open">
              <div class="search-results">
                @for (result of searchResults(); track result.component.id) {
                  <div class="search-result">
                    <a [routerLink]="['/components', result.component.id]" 
                       (click)="clearSearch()"
                       class="result-link">
                      <div class="result-name">{{ result.component.name }}</div>
                      <div class="result-description">{{ result.component.description }}</div>
                      <div class="result-category">{{ result.component.category }}</div>
                    </a>
                  </div>
                }
              </div>
            </div>
          } @else if (searchQuery() && !hasResults()) {
            <div class="search-dropdown open">
              <div class="search-empty">
                <div class="empty-message">No components found for "{{ searchQuery() }}"</div>
              </div>
            </div>
          }
        </div>
      </div>

      <!-- Theme Switcher -->
      <div class="relative">
        <button 
          class="theme-switcher-btn"
          (click)="toggleThemeDropdown()"
          aria-label="Theme switcher">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"/>
          </svg>
          <span>{{ getCurrentThemeName() }}</span>
          <svg class="w-4 h-4 transition-transform" [class.rotate-180]="isThemeDropdownOpen()" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </button>

        @if (isThemeDropdownOpen()) {
          <div class="theme-dropdown">
            <div class="theme-dropdown-content">
              @for (theme of availableThemes; track theme.id) {
                <button 
                  class="theme-option"
                  [class.theme-option-active]="currentTheme() === theme.id"
                  (click)="setTheme(theme.id)">
                  <div>
                    <div class="theme-name">{{ theme.name }}</div>
                    <div class="theme-description">{{ theme.description }}</div>
                  </div>
                  @if (currentTheme() === theme.id) {
                    <svg class="theme-check" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                  }
                </button>
              }
            </div>
          </div>
        }
      </div>

      <!-- Mobile Menu Toggle -->
      <button 
        class="mobile-menu-toggle"
        (click)="toggleMenu()"
        [class.active]="isMenuOpen()"
        aria-label="Toggle mobile menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <nav class="header-nav mobile-nav" [class.nav-open]="isMenuOpen()">
    <ul class="nav-list">
      <li class="nav-item">
        <a routerLink="/" routerLinkActive="active" class="nav-link" (click)="toggleMenu()">
          Home
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/components" routerLinkActive="active" class="nav-link" (click)="toggleMenu()">
          Components
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/getting-started" routerLinkActive="active" class="nav-link" (click)="toggleMenu()">
          Getting Started
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/installation" routerLinkActive="active" class="nav-link" (click)="toggleMenu()">
          Installation
        </a>
      </li>
    </ul>
  </nav>
</header>
