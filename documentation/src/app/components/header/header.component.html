<header class="header">
  <div class="header-container">
    <!-- Logo and Brand -->
    <div class="header-brand">
      <a routerLink="/" class="brand-link">
        <svg class="brand-logo" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:var(--sui-primary-500);stop-opacity:1" />
              <stop offset="100%" style="stop-color:var(--sui-primary-700);stop-opacity:1" />
            </linearGradient>
          </defs>
          <rect width="32" height="32" rx="6" fill="url(#logoGradient)"/>
          <path d="M8 12h16v2H8v-2z" fill="white" opacity="0.9"/>
          <path d="M8 16h12v2H8v-2z" fill="white" opacity="0.9"/>
          <path d="M8 20h14v2H8v-2z" fill="white" opacity="0.9"/>
          <circle cx="22" cy="18" r="3" fill="white" opacity="0.8"/>
          <path d="M21 17h2v2h-2v-2z" fill="url(#logoGradient)"/>
        </svg>
        <div class="brand-text">
          <span class="brand-name">@synerity/ui</span>
          <span class="brand-tagline">Component Library</span>
        </div>
      </a>
    </div>

    <!-- Header Actions -->
    <div class="header-actions">
      <!-- Buy me a coffee button -->
      <sui-button
        (click)="buyMeCoffee()"
        variant="primary"
        size="sm"
        class="coffee-button">
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
        </svg>
        <span class="coffee-text">Buy me a coffee</span>
      </sui-button>

      <!-- Theme Switcher -->
      <div class="relative">
        <button 
          class="theme-switcher-btn"
          (click)="toggleThemeDropdown()"
          aria-label="Theme switcher">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"/>
          </svg>
          <span>{{ getCurrentThemeName() }}</span>
          <svg class="w-4 h-4 transition-transform" [class.rotate-180]="isThemeDropdownOpen()" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </button>

        @if (isThemeDropdownOpen()) {
          <div class="theme-dropdown">
            <div class="theme-dropdown-content">
              @for (theme of availableThemes; track theme.id) {
                <button 
                  class="theme-option"
                  [class.theme-option-active]="currentTheme() === theme.id"
                  (click)="setTheme(theme.id)">
                  <div>
                    <div class="theme-name">{{ theme.name }}</div>
                    <div class="theme-description">{{ theme.description }}</div>
                  </div>
                  @if (currentTheme() === theme.id) {
                    <svg class="theme-check" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                  }
                </button>
              }
            </div>
          </div>
        }
      </div>
    </div>
  </div>

  <!-- Donation Modal -->
  <app-donation-modal 
    [isOpen]="isDonationModalOpen()" 
    (close)="closeDonationModal()">
  </app-donation-modal>
</header>
