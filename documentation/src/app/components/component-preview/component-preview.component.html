<div class="space-y-8">
  <!-- Example Navigation Tabs -->
  <div class="flex flex-wrap gap-3" *ngIf="examples.length > 1">
    <sui-button 
      *ngFor="let example of examples; let i = index"
      [variant]="activeExample() === i ? 'primary' : 'outline'"
      size="sm"
      (click)="setActiveExample(i)"
      class="inline-flex items-center">
      <span class="w-2 h-2 rounded-full mr-2"
            [class.bg-white]="activeExample() === i"
            [class.bg-gray-400]="activeExample() !== i"></span>
      {{ example.name }}
    </sui-button>
  </div>

  <!-- Live Preview Area -->
  <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-8 border border-gray-200 shadow-sm">
    <div class="text-center mb-6">
      <h3 class="text-lg font-semibold text-gray-900 mb-2">{{ getCurrentExample().name }}</h3>
      <p class="text-gray-600 text-sm">{{ getCurrentExample().description }}</p>
    </div>
    
    <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-200">
      <div class="w-full min-h-[120px]"
           [class.flex]="componentName !== 'Carousel' && componentName !== 'Progress Bar' && componentName !== 'Select'"
           [class.flex-wrap]="componentName !== 'Carousel' && componentName !== 'Progress Bar' && componentName !== 'Select'"
           [class.gap-6]="componentName !== 'Carousel' && componentName !== 'Progress Bar' && componentName !== 'Select'"
           [class.items-center]="componentName !== 'Carousel' && componentName !== 'Progress Bar' && componentName !== 'Select'"
           [class.justify-center]="componentName !== 'Carousel' && componentName !== 'Progress Bar' && componentName !== 'Select'">
        <!-- Render actual Synerity UI components -->
        @switch (componentName) {
          @case ('Button') {
            <app-button-demo [currentExample]="getCurrentExample()"></app-button-demo>
          }
          @case ('Card') {
            <app-card-demo [currentExample]="getCurrentExample()"></app-card-demo>
          }
                 @case ('Input') {
                   <app-input-demo [currentExample]="getCurrentExample()"></app-input-demo>
                 }
                 @case ('Table') {
                   <app-table-demo [currentExample]="getCurrentExample()"></app-table-demo>
                 }
                 @case ('Auto Complete') {
                   <app-auto-complete-demo [currentExample]="getCurrentExample()"></app-auto-complete-demo>
                 }
                 @case ('Panel') {
                   <app-panel-demo [currentExample]="getCurrentExample()"></app-panel-demo>
                 }
                 @case ('Menu') {
                   <app-menu-demo [currentExample]="getCurrentExample()"></app-menu-demo>
                 }
                 @case ('Dialog') {
                   <app-dialog-demo [currentExample]="getCurrentExample()"></app-dialog-demo>
                 }
                 @case ('Carousel') {
                   <app-carousel-demo [currentExample]="getCurrentExample()"></app-carousel-demo>
                 }
                 @case ('Toast') {
                   <app-toast-demo [currentExample]="getCurrentExample()"></app-toast-demo>
                 }
         @case ('Progress Bar') {
           <app-progress-bar-demo [currentExample]="getCurrentExample()"></app-progress-bar-demo>
         }
         @case ('Checkbox') {
           <app-checkbox-demo [currentExample]="getCurrentExample()"></app-checkbox-demo>
         }
         @case ('Radio Button') {
           <app-radio-button-demo [currentExample]="getCurrentExample()"></app-radio-button-demo>
         }
        @case ('Select') {
          <app-select-demo [currentExample]="getCurrentExample()"></app-select-demo>
        }
        @case ('Select Button') {
          <app-select-button-demo [currentExample]="getCurrentExample()"></app-select-button-demo>
        }
        @case ('Avatar') {
          <app-avatar-demo [currentExample]="getCurrentExample()"></app-avatar-demo>
        }
        @case ('Badge') {
          <app-badge-demo [currentExample]="getCurrentExample()"></app-badge-demo>
        }
        @case ('Date Picker') {
          <app-date-picker-demo [currentExample]="getCurrentExample()"></app-date-picker-demo>
        }
                         @case ('Rating') {
                           <app-rating-demo [currentExample]="getCurrentExample()"></app-rating-demo>
                         }
                         @case ('Toggle Switch') {
                           <app-toggle-switch-demo [currentExample]="getCurrentExample()"></app-toggle-switch-demo>
                         }
                         @case ('Chip') {
                           <app-chip-demo [currentExample]="getCurrentExample()"></app-chip-demo>
                         }
                         @case ('Input Number') {
                           <app-input-number-demo [currentExample]="getCurrentExample()"></app-input-number-demo>
                         }
                         @case ('Password') {
                           <app-password-demo [currentExample]="getCurrentExample()"></app-password-demo>
                         }
         @case ('Tabs') {
           <app-tabs-demo [currentExample]="getCurrentExample()"></app-tabs-demo>
         }
                        @case ('Textarea') {
                          <app-textarea-demo [currentExample]="getCurrentExample()"></app-textarea-demo>
                        }
                        @case ('Popover') {
                          <app-popover-demo [currentExample]="getCurrentExample()"></app-popover-demo>
                        }
                        @case ('Progress Spinner') {
                          <app-progress-spinner-demo [currentExample]="getCurrentExample()"></app-progress-spinner-demo>
                        }
  @case ('Skeleton') {
    <app-skeleton-demo [currentExample]="getCurrentExample()"></app-skeleton-demo>
  }
  @case ('Overlay Panel') {
    <app-overlay-panel-demo [currentExample]="getCurrentExample()"></app-overlay-panel-demo>
  }
  @case ('Breadcrumb') {
    <app-breadcrumb-demo [currentExample]="getCurrentExample()"></app-breadcrumb-demo>
  }
  @case ('Color Picker') {
    <app-color-picker-demo [currentExample]="getCurrentExample()"></app-color-picker-demo>
  }
  @case ('Editor') {
    <app-editor-demo [currentExample]="getCurrentExample()"></app-editor-demo>
  }
  @case ('Knob') {
    <app-knob-demo [currentExample]="getCurrentExample()"></app-knob-demo>
  }
                        @case ('Tooltip') {
                          <app-tooltip-demo [currentExample]="getCurrentExample()"></app-tooltip-demo>
                        }
                        @case ('Accordion') {
                          <app-accordion-demo [currentExample]="getCurrentExample()"></app-accordion-demo>
                        }
                        @case ('Data View') {
                          <app-data-view-demo [currentExample]="getCurrentExample()"></app-data-view-demo>
                        }
                        @case ('Order List') {
                          <app-order-list-demo [currentExample]="getCurrentExample()"></app-order-list-demo>
                        }
                        @case ('Paginator') {
                          <app-paginator-demo [currentExample]="getCurrentExample()"></app-paginator-demo>
                        }
                        @case ('Pick List') {
                          <app-pick-list-demo [currentExample]="getCurrentExample()"></app-pick-list-demo>
                        }
                        @case ('Tree') {
                          <app-tree-demo [currentExample]="getCurrentExample()"></app-tree-demo>
                        }
                        @case ('Tree Table') {
                          <app-tree-table-demo [currentExample]="getCurrentExample()"></app-tree-table-demo>
                        }
                        @case ('Timeline') {
                          <app-timeline-demo [currentExample]="getCurrentExample()"></app-timeline-demo>
                        }
                 @default {
            <!-- Fallback for other components -->
            <div class="text-center text-gray-500 py-12">
              <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.709M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
              </div>
              <p class="text-lg font-medium">Component preview not available</p>
              <p class="text-sm text-gray-400 mt-1">{{ componentName }} component will be shown here</p>
            </div>
          }
        }
      </div>
    </div>
  </div>

  <!-- Code Display Toggle -->
  <div class="flex justify-center">
    <sui-button 
      [variant]="showCode() ? 'primary' : 'outline'"
      size="md"
      (click)="toggleCode($event)"
      class="inline-flex items-center">
      <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
      </svg>
      {{ showCode() ? 'Hide Source Code' : 'Show Source Code' }}
    </sui-button>
  </div>

  <!-- Code Display -->
  <div *ngIf="showCode()" class="bg-gray-900 rounded-2xl overflow-hidden shadow-xl border border-gray-700 transition-all duration-300">
    <div class="bg-gray-800 px-6 py-4 flex justify-between items-center border-b border-gray-700">
      <div class="flex items-center gap-3">
        <div class="flex gap-2">
          <div class="w-3 h-3 bg-red-500 rounded-full"></div>
          <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
          <div class="w-3 h-3 bg-green-500 rounded-full"></div>
        </div>
        
        <!-- Code Tab Navigation -->
        <div class="flex items-center gap-2">
          <button
            (click)="setActiveCodeTab('html')"
            [class.bg-gray-700]="activeCodeTab() === 'html'"
            [class.text-white]="activeCodeTab() === 'html'"
            [class.text-gray-300]="activeCodeTab() !== 'html'"
            class="px-3 py-1 rounded text-sm font-medium transition-colors hover:text-white">
            HTML
          </button>
          
          @if (hasTypeScriptCode()) {
            <button
              (click)="setActiveCodeTab('ts')"
              [class.bg-gray-700]="activeCodeTab() === 'ts'"
              [class.text-white]="activeCodeTab() === 'ts'"
              [class.text-gray-300]="activeCodeTab() !== 'ts'"
              class="px-3 py-1 rounded text-sm font-medium transition-colors hover:text-white">
              TypeScript
            </button>
          }
        </div>
      </div>
      
      <sui-button 
        variant="ghost"
        size="sm"
        (click)="copyToClipboard()"
        title="Copy to clipboard"
        class="inline-flex items-center text-gray-300 hover:text-white transition-colors"
        [class.text-green-400]="copySuccess()">
        @if (copySuccess()) {
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
          Copied!
        } @else {
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
          </svg>
          Copy Code
        }
      </sui-button>
    </div>
    
    <div class="p-6 overflow-x-auto">
      @if (activeCodeTab() === 'html') {
        <pre class="text-sm text-gray-300 leading-relaxed"><code class="language-html">{{ getCurrentExample().code }}</code></pre>
      } @else if (activeCodeTab() === 'ts') {
        <pre class="text-sm text-gray-300 leading-relaxed"><code class="language-typescript">{{ getCurrentExample().tsCode }}</code></pre>
      }
    </div>
  </div>
</div>
