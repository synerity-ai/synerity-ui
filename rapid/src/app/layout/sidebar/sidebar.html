<div class="bg-gray-50 h-full border-r border-gray-200 overflow-y-auto" role="navigation" aria-label="Main navigation">
  <div class="p-4">
    <!-- Search Box -->
    <div class="mb-4">
      <div class="relative">
        <input
          type="text"
          [(ngModel)]="searchQuery"
          (input)="onSearchChange()"
          placeholder="Search components..."
          class="w-full px-3 py-2 pl-10 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white"
          aria-label="Search components">
        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
        <button
          *ngIf="searchQuery"
          (click)="clearSearch()"
          class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"
          aria-label="Clear search">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Navigation Groups -->
    <nav class="space-y-4" role="menubar">
      <!-- No Results Message -->
      <div *ngIf="searchQuery && filteredNavigationGroups.length === 0" class="text-center py-8">
        <div class="text-gray-400 mb-2">
          <svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
        <p class="text-sm text-gray-500">No components found for "{{ searchQuery }}"</p>
        <button
          (click)="clearSearch()"
          class="mt-2 text-xs text-primary-600 hover:text-primary-700 underline">
          Clear search
        </button>
      </div>

      <!-- Filtered Navigation Groups -->
      <div *ngFor="let group of filteredNavigationGroups" class="space-y-2">
        <!-- Collapsible Category Header -->
        <button
          (click)="toggleCategory(group.title)"
          class="flex items-center justify-between w-full px-2 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-150"
          [attr.aria-expanded]="isCategoryExpanded(group.title)"
          [attr.aria-controls]="getCategoryId(group.title)"
          type="button">
          <span>{{ group.title }}</span>
          <svg 
            class="w-4 h-4 transition-transform duration-200"
            [class.rotate-180]="isCategoryExpanded(group.title)"
            fill="none" 
            stroke="currentColor" 
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        
        <!-- Collapsible Category Content -->
        <div 
          [id]="getCategoryId(group.title)"
          class="space-y-1 transition-all duration-300 ease-in-out"
          [class.max-h-0]="!isCategoryExpanded(group.title)"
          [class.overflow-hidden]="!isCategoryExpanded(group.title)"
          [class.overflow-visible]="isCategoryExpanded(group.title)"
          [attr.aria-hidden]="!isCategoryExpanded(group.title)">
          <a
            *ngFor="let item of group.items"
            [routerLink]="item.route"
            routerLinkActive="text-primary-700 border-r-4 border-primary-600"
            class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150 focus:outline-none"
            [class.opacity-50]="item.comingSoon"
            [attr.aria-current]="item.route === router.url ? 'page' : null"
            [attr.aria-disabled]="item.comingSoon ? 'true' : null"
            role="menuitem">
            <span class="mr-3 text-lg">{{ item.icon }}</span>
            <span class="flex-1">{{ item.name }}</span>
            <span *ngIf="item.comingSoon" class="text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full">
              Soon
            </span>
          </a>
        </div>
      </div>
    </nav>

    <!-- Getting Started Section -->
    <div class="mt-8 pt-6 border-t border-gray-200">
      <button
        (click)="toggleCategory('Getting Started')"
        class="flex items-center justify-between w-full px-2 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-150"
        [attr.aria-expanded]="isCategoryExpanded('Getting Started')"
        [attr.aria-controls]="'category-getting-started'"
        type="button">
        <span>Getting Started</span>
        <svg 
          class="w-4 h-4 transition-transform duration-200"
          [class.rotate-180]="isCategoryExpanded('Getting Started')"
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </button>
      
      <div 
        id="category-getting-started"
        class="space-y-2 overflow-hidden transition-all duration-300 ease-in-out"
        [class.max-h-0]="!isCategoryExpanded('Getting Started')"
        [class.max-h-screen]="isCategoryExpanded('Getting Started')"
        [attr.aria-hidden]="!isCategoryExpanded('Getting Started')">
        <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150 focus:outline-none">
          <span class="mr-3">ðŸ“–</span>
          Installation
        </a>
        <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150 focus:outline-none">
          <span class="mr-3">âš¡</span>
          Quick Start
        </a>
        <a href="#" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150 focus:outline-none">
          <span class="mr-3">ðŸŽ¨</span>
          Theming
        </a>
      </div>
    </div>
  </div>
</div>