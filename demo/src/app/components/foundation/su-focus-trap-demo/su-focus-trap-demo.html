<div class="demo-container">
  <div class="demo-section">
    <h2>Focus Trap Component Demo</h2>
    <p>Traps focus within a specific area for better accessibility and user experience. Perfect for modals, dropdowns, and forms.</p>
  </div>

  <!-- Basic Focus Trap -->
  <div class="demo-section">
    <h3>Basic Focus Trap</h3>
    <div class="component-grid">
      <div class="component-card">
        <h4>Enabled Focus Trap</h4>
        <p>Focus is trapped within this area. Use Tab to navigate between elements.</p>
        <sui-focus-trap [enabled]="true" [autoFocus]="true" styleClass="sui-focus-trap--primary">
          <div class="p-4 border-2 border-primary-200 rounded-lg bg-primary-50">
            <h5 class="font-semibold mb-4 text-primary-900">Focus Trap Area</h5>
            <div class="space-y-3">
              <input type="text" placeholder="First input" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
              <input type="text" placeholder="Second input" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
              <button class="btn btn-primary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Button 1</button>
              <button class="btn btn-secondary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Button 2</button>
            </div>
            <p class="text-sm text-primary-700 mt-3">Try using Tab to navigate - focus will cycle within this area.</p>
          </div>
        </sui-focus-trap>
      </div>

      <div class="component-card">
        <h4>Disabled Focus Trap</h4>
        <p>Focus trap is disabled - normal tab navigation applies.</p>
        <sui-focus-trap [enabled]="false" [autoFocus]="false" styleClass="sui-focus-trap--error">
          <div class="p-4 border-2 border-red-200 rounded-lg bg-red-50">
            <h5 class="font-semibold mb-4 text-red-900">Normal Focus Area</h5>
            <div class="space-y-3">
              <input type="text" placeholder="First input" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
              <input type="text" placeholder="Second input" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
              <button class="btn btn-primary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Button 1</button>
              <button class="btn btn-secondary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Button 2</button>
            </div>
            <p class="text-sm text-red-700 mt-3">Normal tab navigation - focus can move outside this area.</p>
          </div>
        </sui-focus-trap>
      </div>
    </div>
  </div>

  <!-- Interactive Configuration -->
  <div class="demo-section">
    <h3>Interactive Configuration</h3>
    <div class="demo-content">
      <div class="radio-group">
        <label>Style:</label>
        <div class="radio-options">
          <label *ngFor="let style of styles">
            <input
              type="radio"
              name="style"
              [value]="style.value"
              [(ngModel)]="selectedStyle">
            {{ style.label }}
          </label>
        </div>
      </div>

      <div class="radio-group">
        <label>Size:</label>
        <div class="radio-options">
          <label *ngFor="let size of sizes">
            <input
              type="radio"
              name="size"
              [value]="size.value"
              [(ngModel)]="selectedSize">
            {{ size.label }}
          </label>
        </div>
      </div>

      <div class="form-group">
        <label>
          <input
            type="checkbox"
            [(ngModel)]="enabled">
          Enable Focus Trap
        </label>
      </div>

      <div class="form-group">
        <label>
          <input
            type="checkbox"
            [(ngModel)]="autoFocus">
          Auto Focus First Element
        </label>
      </div>

      <div class="mt-4">
        <p class="text-sm text-gray-600">{{ getConfigDescription() }}</p>
      </div>

      <div class="mt-8">
        <sui-focus-trap
          [enabled]="enabled"
          [autoFocus]="autoFocus"
          [styleClass]="getFocusTrapClass()">
          <div class="p-6 border-2 border-gray-300 rounded-lg bg-gray-50">
            <h4 class="font-semibold mb-4 text-gray-900">Interactive Focus Trap</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="space-y-3">
                <input type="text" placeholder="Name" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
                <input type="email" placeholder="Email" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
                <select class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
                  <option>Option 1</option>
                  <option>Option 2</option>
                  <option>Option 3</option>
                </select>
              </div>
              <div class="space-y-3">
                <button class="btn btn-primary w-full" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Submit</button>
                <button class="btn btn-secondary w-full" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Cancel</button>
                <button class="btn btn-warning w-full" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Reset</button>
              </div>
            </div>
          </div>
        </sui-focus-trap>
      </div>
    </div>
  </div>

  <!-- Real-world Examples -->
  <div class="demo-section">
    <h3>Real-world Examples</h3>
    <div class="component-grid">
      <div class="component-card">
        <h4>Modal Dialog</h4>
        <p>Focus trap for modal dialogs to ensure accessibility.</p>
        <sui-focus-trap [enabled]="true" [autoFocus]="true" styleClass="sui-focus-trap--primary">
          <div class="p-6 bg-white border-2 border-primary-200 rounded-lg shadow-lg">
            <h5 class="text-lg font-semibold mb-4 text-primary-900">Confirm Action</h5>
            <p class="text-gray-600 mb-6">Are you sure you want to perform this action? This cannot be undone.</p>
            <div class="flex space-x-3">
              <button class="btn btn-primary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Confirm</button>
              <button class="btn btn-secondary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Cancel</button>
            </div>
          </div>
        </sui-focus-trap>
      </div>

      <div class="component-card">
        <h4>Form Section</h4>
        <p>Focus trap for form sections to improve user experience.</p>
        <sui-focus-trap [enabled]="true" [autoFocus]="false" styleClass="sui-focus-trap--success">
          <div class="p-6 bg-white border-2 border-green-200 rounded-lg">
            <h5 class="text-lg font-semibold mb-4 text-green-900">User Information</h5>
            <div class="space-y-4">
              <input type="text" placeholder="First Name" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
              <input type="text" placeholder="Last Name" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
              <input type="email" placeholder="Email" class="w-full p-2 border rounded" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
              <div class="flex space-x-3">
                <button class="btn btn-success" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Save</button>
                <button class="btn btn-secondary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Clear</button>
              </div>
            </div>
          </div>
        </sui-focus-trap>
      </div>

      <div class="component-card">
        <h4>Navigation Menu</h4>
        <p>Focus trap for dropdown navigation menus.</p>
        <sui-focus-trap [enabled]="true" [autoFocus]="true" styleClass="sui-focus-trap--warning">
          <div class="p-6 bg-white border-2 border-yellow-200 rounded-lg">
            <h5 class="text-lg font-semibold mb-4 text-yellow-900">Navigation Menu</h5>
            <div class="space-y-2">
              <button class="btn btn-warning w-full text-left" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Home</button>
              <button class="btn btn-warning w-full text-left" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">About</button>
              <button class="btn btn-warning w-full text-left" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Services</button>
              <button class="btn btn-warning w-full text-left" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Contact</button>
            </div>
          </div>
        </sui-focus-trap>
      </div>

      <div class="component-card">
        <h4>Settings Panel</h4>
        <p>Focus trap for settings and configuration panels.</p>
        <sui-focus-trap [enabled]="true" [autoFocus]="false" styleClass="sui-focus-trap--error">
          <div class="p-6 bg-white border-2 border-red-200 rounded-lg">
            <h5 class="text-lg font-semibold mb-4 text-red-900">Settings</h5>
            <div class="space-y-4">
              <div class="flex items-center space-x-3">
                <input type="checkbox" id="setting1" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
                <label for="setting1">Enable notifications</label>
              </div>
              <div class="flex items-center space-x-3">
                <input type="checkbox" id="setting2" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">
                <label for="setting2">Auto-save changes</label>
              </div>
              <div class="flex space-x-3">
                <button class="btn btn-error" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Apply</button>
                <button class="btn btn-secondary" (focus)="onFocus($event)" (blur)="onBlur($event)" (keydown)="onKeyDown($event)">Reset</button>
              </div>
            </div>
          </div>
        </sui-focus-trap>
      </div>
    </div>
  </div>

  <!-- Event Tracking -->
  <div class="demo-section">
    <h3>Event Tracking</h3>
    <div class="demo-content">
      <div class="bg-blue-50 p-4 rounded-lg">
        <h4 class="font-medium text-blue-900 mb-2">Focus Events</h4>
        <div class="text-blue-700 text-sm mb-4">
          <div>Total Focus Events: {{ focusCount }}</div>
          <div>Last Focused: {{ lastFocusedElement || 'None' }}</div>
        </div>
        <button class="btn btn-secondary" (click)="resetCounters()">
          Reset Counters
        </button>
      </div>
    </div>
  </div>
</div>
