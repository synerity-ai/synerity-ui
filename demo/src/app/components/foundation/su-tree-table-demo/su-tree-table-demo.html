<div class="demo-container">
  <div class="demo-header">
    <h1>Tree Table Component</h1>
    <p class="demo-description">
      Tree Table combines hierarchical tree structure with tabular data display. Expand nodes to reveal children in a table format.
    </p>
  </div>

  <div class="demo-section">
    <h2>Basic Usage</h2>
    <p>File system with expandable folders</p>
    <div class="demo-content">
      <sui-tree-table 
        [value]="files" 
        [columns]="columns"
        (onNodeExpand)="handleNodeExpand($event)"
      ></sui-tree-table>
    </div>
    <div class="code-block">
      <pre><code>&lt;sui-tree-table 
  [value]="files" 
  [columns]="columns"
&gt;&lt;/sui-tree-table&gt;</code></pre>
    </div>
  </div>

  <div class="demo-section">
    <h2>With Sorting</h2>
    <p>Click column headers to sort data</p>
    <div class="demo-content">
      <sui-tree-table 
        [value]="files" 
        [columns]="columns"
        (onSort)="handleSort($event)"
      ></sui-tree-table>
    </div>
    <div class="code-block">
      <pre><code>&lt;sui-tree-table 
  [value]="files" 
  [columns]="columns"
  (onSort)="handleSort($event)"
&gt;&lt;/sui-tree-table&gt;

columns = [
  &#123; field: 'name', header: 'Name', sortable: true &#125;,
  &#123; field: 'size', header: 'Size', sortable: true &#125;
];</code></pre>
    </div>
  </div>

  <div class="demo-section">
    <h2>With Selection</h2>
    <p>Select nodes with checkboxes</p>
    <div class="demo-content">
      <sui-tree-table 
        [value]="files" 
        [columns]="columns"
        selectionMode="checkbox"
        (onNodeSelect)="handleNodeSelect($event)"
        (onSelectionChange)="handleSelectionChange($event)"
      ></sui-tree-table>
      <p class="value-display" *ngIf="selectedNodes.length > 0">
        Selected: {{ selectedNodes.length }} node(s)
      </p>
    </div>
    <div class="code-block">
      <pre><code>&lt;sui-tree-table 
  [value]="files" 
  [columns]="columns"
  selectionMode="checkbox"
&gt;&lt;/sui-tree-table&gt;</code></pre>
    </div>
  </div>

  <div class="demo-section api-section">
    <h2>API Reference</h2>
    
    <h3>Properties (Inputs)</h3>
    <div class="api-table">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>value</code></td>
            <td>TreeNode[]</td>
            <td>[]</td>
            <td>Array of tree nodes with data</td>
          </tr>
          <tr>
            <td><code>columns</code></td>
            <td>Column[]</td>
            <td>[]</td>
            <td>Array of column definitions</td>
          </tr>
          <tr>
            <td><code>selectionMode</code></td>
            <td>'single' | 'multiple' | 'checkbox' | null</td>
            <td>null</td>
            <td>Node selection mode</td>
          </tr>
          <tr>
            <td><code>sortField</code></td>
            <td>string</td>
            <td>''</td>
            <td>Field to sort by</td>
          </tr>
          <tr>
            <td><code>sortOrder</code></td>
            <td>'asc' | 'desc'</td>
            <td>'asc'</td>
            <td>Sort order</td>
          </tr>
          <tr>
            <td><code>emptyMessage</code></td>
            <td>string</td>
            <td>'No records found'</td>
            <td>Message for empty table</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h3>Events (Outputs)</h3>
    <div class="api-table">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Parameters</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>onNodeSelect</code></td>
            <td>TreeNode</td>
            <td>Emitted when node is selected</td>
          </tr>
          <tr>
            <td><code>onNodeExpand</code></td>
            <td>TreeNode</td>
            <td>Emitted when node is expanded</td>
          </tr>
          <tr>
            <td><code>onNodeCollapse</code></td>
            <td>TreeNode</td>
            <td>Emitted when node is collapsed</td>
          </tr>
          <tr>
            <td><code>onSort</code></td>
            <td>&#123; field: string, order: 'asc' | 'desc' &#125;</td>
            <td>Emitted when column is sorted</td>
          </tr>
          <tr>
            <td><code>onSelectionChange</code></td>
            <td>TreeNode[]</td>
            <td>Emitted when selection changes</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h3>Data Structure</h3>
    <div class="api-notes">
      <ul>
        <li><strong>TreeNode:</strong> Each node should have <code>key</code>, <code>data</code>, and optional <code>children</code></li>
        <li><strong>Data Object:</strong> Contains actual field values matching column field names</li>
        <li><strong>Hierarchical Display:</strong> Root nodes in table rows, children in nested section</li>
        <li><strong>Expand/Collapse:</strong> Toggle button in first column for nodes with children</li>
      </ul>
    </div>
  </div>
</div>
