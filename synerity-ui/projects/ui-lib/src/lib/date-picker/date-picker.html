<div [class]="getComponentClass()" [style]="style" #datePickerContainer>
  
  <!-- Trigger Element -->
  <div 
    [class]="getTriggerClass()"
    (click)="toggle()"
    (focus)="onInputFocus()"
    (blur)="onInputBlur()"
    [attr.tabindex]="disabled ? -1 : 0"
    [attr.aria-expanded]="isOpen"
    [attr.aria-haspopup]="true"
    [attr.aria-label]="placeholder"
    role="button"
    #triggerElement>
    
    <!-- Input Field (for form integration) -->
    <input
      #dateInput
      type="text"
      [value]="getDisplayValue()"
      [placeholder]="placeholder"
      [disabled]="disabled"
      [readonly]="readonly"
      (input)="onInputChange($event)"
      (focus)="onInputFocus()"
      (blur)="onInputBlur()"
      class="sui-date-picker-input"
      [attr.aria-label]="placeholder"
      autocomplete="off">
    
    <!-- Calendar Icon -->
    <div class="sui-date-picker-icon" *ngIf="!readonly">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
        <line x1="16" y1="2" x2="16" y2="6"/>
        <line x1="8" y1="2" x2="8" y2="6"/>
        <line x1="3" y1="10" x2="21" y2="10"/>
      </svg>
    </div>
    
    <!-- Clear Button -->
    <button
      *ngIf="value && !disabled && !readonly && showClearButton"
      type="button"
      class="sui-date-picker-clear"
      (click)="clear($event)"
      [attr.aria-label]="'Clear date'">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>

</div>