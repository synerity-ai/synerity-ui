<div class="relative w-full">
	<input
		[type]="'text'"
		[class.opacity-50]="disabled"
		[id]="inputId"
		[name]="name"
		[disabled]="disabled"
		[placeholder]="placeholder"
		[value]="term"
		(input)="onInput($event)"
		(focus)="onFocus()"
		(blur)="onBlur()"
		(keydown)="onKeyDown($event)"
		class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
	/>
	<button *ngIf="term" type="button" (click)="clear()" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-lg leading-none">Ã—</button>
	<ul *ngIf="open" class="absolute z-50 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto">
		<li
			*ngFor="let item of filtered; let i = index"
			(click)="select(item)"
			(mousedown)="$event.preventDefault()"
			[class.bg-blue-50]="i === activeIndex"
			class="px-3 py-2 cursor-pointer hover:bg-gray-50 border-b border-gray-100 last:border-b-0"
		>
			{{ displayItem(item) }}
		</li>
	</ul>
</div>
