<div [class]="getContainerClass()">
  <!-- Label -->
  <label *ngIf="label" 
         class="sui-listbox-label">
    {{ label }}
  </label>

  <!-- Listbox -->
  <ul
    role="listbox"
    tabindex="0"
    [attr.aria-label]="label"
    [attr.aria-multiselectable]="multiSelect"
    (blur)="onBlurEvent()"
    [class]="getListboxClass()">
    
    <!-- Empty State -->
    <li *ngIf="options.length === 0" class="sui-listbox-empty">
      No options available
    </li>

    <!-- Options -->
    <li
      *ngFor="let opt of options"
      role="option"
      [attr.aria-selected]="isSelected(opt)"
      [attr.aria-disabled]="opt.disabled"
      (click)="select(opt)"
      [class]="getItemClass(opt)">
      {{ opt.label }}
    </li>
  </ul>

  <!-- Helper Text / Error Message -->
  <div *ngIf="errorText || helperText" 
       class="sui-listbox-helper"
       [class.sui-listbox-error]="errorText || hasError">
    {{ errorText || helperText }}
  </div>
</div>
