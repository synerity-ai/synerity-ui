<div class="sui-tree-select" [class.sui-tree-select-disabled]="disabled">
	<button
		type="button"
		[disabled]="disabled"
		(click)="toggle()"
		(blur)="onBlur()"
		class="sui-tree-select-trigger"
		[class.sui-tree-select-open]="open"
	>
		<span class="sui-tree-select-value">{{ displayValue() }}</span>
		<span class="sui-tree-select-arrow">▼</span>
	</button>
	<div *ngIf="open" class="sui-tree-select-dropdown">
		<div *ngFor="let item of options" class="sui-tree-select-node">
			<button
				type="button"
				[disabled]="item.children?.length"
				(click)="select(item)"
				class="sui-tree-select-option"
				[class.sui-tree-select-parent]="item.children?.length"
				[class.sui-tree-select-leaf]="!item.children?.length"
			>
				<span *ngIf="item.children?.length" class="sui-tree-select-expand">▶</span>
				{{ item.label }}
			</button>
			<div *ngIf="item.children?.length" class="sui-tree-select-children">
				<div *ngFor="let child of item.children" class="sui-tree-select-child-node">
					<button
						type="button"
						(click)="select(child)"
						class="sui-tree-select-option sui-tree-select-leaf"
					>
						{{ child.label }}
					</button>
				</div>
			</div>
		</div>
	</div>
</div>
