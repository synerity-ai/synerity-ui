<div class="sui-pick-list">
  <!-- Source List -->
  <div class="sui-pick-list-panel sui-pick-list-source">
    <!-- Source Header -->
    <div class="sui-pick-list-header">
      <h3>{{ sourceHeader }}</h3>
    </div>
    
    <!-- Source Filter -->
    <div *ngIf="filter" class="sui-pick-list-filter">
      <div class="sui-pick-list-filter-container">
        <div class="sui-pick-list-filter-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
        <input
          type="text"
          [placeholder]="filterPlaceholder"
          (input)="onSourceFilter($event)"
          class="sui-pick-list-filter-input"
        />
      </div>
    </div>
    
    <!-- Source List -->
    <div class="sui-pick-list-content">
      <div
        *ngFor="let item of filteredSource; let i = index"
        (click)="selectSourceItem(item)"
        class="sui-pick-list-item"
        [class.sui-pick-list-item-selected]="isSourceSelected(item)"
      >
        <input
          type="checkbox"
          [checked]="isSourceSelected(item)"
          class="sui-pick-list-checkbox"
          (click)="$event.stopPropagation()"
          (change)="selectSourceItem(item)"
        />
        <span class="sui-pick-list-item-label">{{ item.label || item.name || item }}</span>
      </div>
      
      <!-- Empty State -->
      <div *ngIf="filteredSource.length === 0" class="sui-pick-list-empty">
        <div class="sui-pick-list-empty-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
          </svg>
        </div>
        <p class="sui-pick-list-empty-message">
          {{ sourceFilterValue ? 'No items match your search' : 'No items available' }}
        </p>
      </div>
    </div>
  </div>
  
  <!-- Control Buttons -->
  <div class="sui-pick-list-controls">
    <button
      *ngIf="showSourceControls"
      type="button"
      (click)="moveToTarget()"
      [disabled]="selectedSourceItems.length === 0"
      class="sui-pick-list-btn"
      title="Move to Target"
    >
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
      </svg>
    </button>
    <button
      *ngIf="showSourceControls"
      type="button"
      (click)="moveAllToTarget()"
      [disabled]="source.length === 0"
      class="sui-pick-list-btn"
      title="Move All to Target"
    >
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"></path>
      </svg>
    </button>
    <button
      *ngIf="showTargetControls"
      type="button"
      (click)="moveToSource()"
      [disabled]="selectedTargetItems.length === 0"
      class="sui-pick-list-btn"
      title="Move to Source"
    >
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
    </button>
    <button
      *ngIf="showTargetControls"
      type="button"
      (click)="moveAllToSource()"
      [disabled]="target.length === 0"
      class="sui-pick-list-btn"
      title="Move All to Source"
    >
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path>
      </svg>
    </button>
  </div>
  
  <!-- Target List -->
  <div class="sui-pick-list-panel sui-pick-list-target">
    <!-- Target Header -->
    <div class="sui-pick-list-header">
      <h3>{{ targetHeader }}</h3>
    </div>
    
    <!-- Target Filter -->
    <div *ngIf="filter" class="sui-pick-list-filter">
      <div class="sui-pick-list-filter-container">
        <div class="sui-pick-list-filter-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
        <input
          type="text"
          [placeholder]="filterPlaceholder"
          (input)="onTargetFilter($event)"
          class="sui-pick-list-filter-input"
        />
      </div>
    </div>
    
    <!-- Target List -->
    <div class="sui-pick-list-content">
      <div
        *ngFor="let item of filteredTarget; let i = index"
        (click)="selectTargetItem(item)"
        class="sui-pick-list-item"
        [class.sui-pick-list-item-selected]="isTargetSelected(item)"
      >
        <input
          type="checkbox"
          [checked]="isTargetSelected(item)"
          class="sui-pick-list-checkbox"
          (click)="$event.stopPropagation()"
          (change)="selectTargetItem(item)"
        />
        <span class="sui-pick-list-item-label">{{ item.label || item.name || item }}</span>
      </div>
      
      <!-- Empty State -->
      <div *ngIf="filteredTarget.length === 0" class="sui-pick-list-empty">
        <div class="sui-pick-list-empty-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
          </svg>
        </div>
        <p class="sui-pick-list-empty-message">
          {{ targetFilterValue ? 'No items match your search' : 'No items selected' }}
        </p>
      </div>
    </div>
  </div>
</div>
