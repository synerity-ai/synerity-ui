<div [class]="getComponentClass()">
  <!-- Label -->
  <label *ngIf="label" class="sui-input-number-label" [for]="inputId">{{ label }}</label>
  
  <!-- Input Number Container -->
  <div [class]="getContainerClass()">
    <!-- Icon -->
    <span *ngIf="icon" class="sui-input-number-icon">{{ icon }}</span>
    
    <!-- Decrement Button -->
    <button 
      *ngIf="showButtons"
      type="button" 
      [disabled]="disabled || readonly || loading"
      (click)="decrement()" 
      [class]="getButtonClass() + ' sui-input-number-decrement'"
      [attr.aria-label]="'Decrease value'">
      -
    </button>
    
    <!-- Input Field -->
    <input
      [type]="'number'"
      [id]="inputId"
      [name]="name"
      [disabled]="disabled"
      [readonly]="readonly"
      [min]="min ?? undefined"
      [max]="max ?? undefined"
      [step]="step"
      [placeholder]="placeholder"
      [value]="getDisplayValue()"
      [attr.aria-label]="getAriaLabel()"
      [attr.aria-describedby]="getAriaDescribedBy()"
      (input)="onInput($event)"
      (blur)="onBlur()"
      (keydown)="onKeyDown($event)"
      [class]="getInputClass()"
    />
    
    <!-- Increment Button -->
    <button 
      *ngIf="showButtons"
      type="button" 
      [disabled]="disabled || readonly || loading"
      (click)="increment()" 
      [class]="getButtonClass() + ' sui-input-number-increment'"
      [attr.aria-label]="'Increase value'">
      +
    </button>
  </div>
  
  <!-- Helper Text -->
  <div *ngIf="helperText && !hasError" [id]="inputId + '-helper'" class="sui-input-number-helper">
    {{ helperText }}
  </div>
  
  <!-- Error Text -->
  <div *ngIf="errorText || hasError" [id]="inputId + '-error'" class="sui-input-number-helper sui-input-number-error-text">
    {{ errorText || 'Invalid value' }}
  </div>
</div>
