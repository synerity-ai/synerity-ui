<div class="sui-mega-menu" [class]="getMenuClass()" [style]="getMenuStyle()">
  <ul class="sui-mega-menu-list">
    <li 
      *ngFor="let item of model" 
      class="sui-mega-menu-item" 
      [class.sui-mega-menu-item-disabled]="item.disabled"
      [class.sui-mega-menu-item-active]="activeItem === item"
    >
      <div class="sui-mega-menu-item-content" (click)="onItemClickHandler($event, item)">
        <span *ngIf="item.icon" class="sui-mega-menu-item-icon">{{ item.icon }}</span>
        <span class="sui-mega-menu-item-label">{{ item.label }}</span>
        <span *ngIf="hasSubmenu(item)" class="sui-mega-menu-item-arrow">â–¼</span>
      </div>

      <div *ngIf="hasSubmenu(item) && activeItem === item" class="sui-mega-menu-submenu">
        <div class="sui-mega-menu-submenu-content">
          <!-- Regular submenu items -->
          <div *ngIf="item.items" class="sui-mega-menu-submenu-columns">
            <div class="sui-mega-menu-submenu-column">
              <div *ngFor="let subItem of item.items" class="sui-mega-menu-submenu-item" (click)="onItemClickHandler($event, subItem)">
                <span *ngIf="subItem.icon" class="sui-mega-menu-submenu-item-icon">{{ subItem.icon }}</span>
                <span class="sui-mega-menu-submenu-item-label">{{ subItem.label }}</span>
              </div>
            </div>
          </div>
          
          <!-- Multi-column layout -->
          <div *ngIf="item.columns" class="sui-mega-menu-submenu-columns">
            <div *ngFor="let column of item.columns" class="sui-mega-menu-submenu-column">
              <div *ngFor="let subItem of column" class="sui-mega-menu-submenu-item" (click)="onItemClickHandler($event, subItem)">
                <span *ngIf="subItem.icon" class="sui-mega-menu-submenu-item-icon">{{ subItem.icon }}</span>
                <span class="sui-mega-menu-submenu-item-label">{{ subItem.label }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </li>
  </ul>
</div>
