/* Progress Bar Component Styles */
/* Uses CSS custom properties for theme inheritance */

.sui-progress-bar {
  position: relative;
  display: block;
  width: 100%;
  height: var(--sui-progress-bar-height, 0.5rem); /* h-2 */
  background-color: var(--sui-progress-bar-bg, #e5e7eb); /* bg-gray-200 */
  border-radius: var(--sui-progress-bar-border-radius, 9999px); /* rounded-full */
  overflow: hidden;

  &-fill {
    height: 100%;
    background-color: var(--sui-progress-bar-fill-bg, #3b82f6); /* bg-blue-500 */
    border-radius: inherit;
    transition: width var(--sui-progress-bar-transition-duration, 0.3s) ease-in-out; /* transition-all duration-300 ease-in-out */
    position: relative;
    overflow: hidden;
  }

  /* Progress Bar Variants */
  &-success &-fill {
    background-color: var(--sui-progress-bar-success-bg, #10b981); /* bg-green-500 */
  }

  &-warning &-fill {
    background-color: var(--sui-progress-bar-warning-bg, #f59e0b); /* bg-yellow-500 */
  }

  &-danger &-fill {
    background-color: var(--sui-progress-bar-danger-bg, #ef4444); /* bg-red-500 */
  }

  &-info &-fill {
    background-color: var(--sui-progress-bar-info-bg, #3b82f6); /* bg-blue-500 */
  }

  /* Progress Bar Sizes */
  &-small {
    height: var(--sui-progress-bar-small-height, 0.25rem); /* h-1 */
  }

  &-normal {
    height: var(--sui-progress-bar-normal-height, 0.5rem); /* h-2 */
  }

  &-large {
    height: var(--sui-progress-bar-large-height, 0.75rem); /* h-3 */
  }

  /* Animated Progress Bar */
  &-animated &-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-image: linear-gradient(
      -45deg,
      var(--sui-progress-bar-stripe-color, rgba(255, 255, 255, 0.2)) 25%,
      transparent 25%,
      transparent 50%,
      var(--sui-progress-bar-stripe-color, rgba(255, 255, 255, 0.2)) 50%,
      var(--sui-progress-bar-stripe-color, rgba(255, 255, 255, 0.2)) 75%,
      transparent 75%,
      transparent
    );
    background-size: var(--sui-progress-bar-stripe-size, 1rem 1rem); /* bg-size-4 bg-size-4 */
    animation: sui-progress-bar-stripes var(--sui-progress-bar-stripe-animation-duration, 1s) linear infinite;
  }

  /* Progress Bar with Label */
  &-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--sui-progress-bar-label-margin-bottom, 0.25rem); /* mb-1 */
    font-size: var(--sui-progress-bar-label-font-size, 0.875rem); /* text-sm */
    font-weight: var(--sui-progress-bar-label-font-weight, 500); /* font-medium */
    color: var(--sui-progress-bar-label-color, #374151); /* text-gray-700 */
  }

  &-percentage {
    font-size: var(--sui-progress-bar-percentage-font-size, 0.75rem); /* text-xs */
    color: var(--sui-progress-bar-percentage-color, #6b7280); /* text-gray-500 */
  }

  /* Progress Bar Indeterminate */
  &-indeterminate {
    background-color: transparent;

    .sui-progress-bar-fill {
      width: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        var(--sui-progress-bar-indeterminate-bg, #3b82f6),
        transparent
      );
      animation: sui-progress-bar-indeterminate var(--sui-progress-bar-indeterminate-duration, 1.5s) ease-in-out infinite;
    }
  }

  /* Progress Bar with Value Display */
  &-value {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: var(--sui-progress-bar-value-font-size, 0.75rem); /* text-xs */
    font-weight: var(--sui-progress-bar-value-font-weight, 600); /* font-semibold */
    color: var(--sui-progress-bar-value-color, #ffffff); /* text-white */
    text-shadow: var(--sui-progress-bar-value-text-shadow, 0 1px 2px rgba(0, 0, 0, 0.3)); /* text-shadow-sm */
    z-index: 1;
  }

  /* Progress Bar Container */
  &-container {
    width: 100%;
  }

  /* Progress Bar with Multiple Steps */
  &-steps {
    display: flex;
    gap: var(--sui-progress-bar-steps-gap, 0.25rem); /* gap-1 */
    
    .sui-progress-bar-step {
      flex: 1;
      height: var(--sui-progress-bar-step-height, 0.5rem); /* h-2 */
      background-color: var(--sui-progress-bar-step-bg, #e5e7eb); /* bg-gray-200 */
      border-radius: var(--sui-progress-bar-step-border-radius, 0.25rem); /* rounded */
      
      &.active {
        background-color: var(--sui-progress-bar-step-active-bg, #3b82f6); /* bg-blue-500 */
      }
      
      &.completed {
        background-color: var(--sui-progress-bar-step-completed-bg, #10b981); /* bg-green-500 */
      }
    }
  }

  /* Custom styling variants */
  &.compact {
    height: var(--sui-progress-bar-compact-height, 0.375rem); /* h-1.5 */
    
    .sui-progress-bar-label {
      font-size: var(--sui-progress-bar-compact-label-font-size, 0.75rem); /* text-xs */
      margin-bottom: var(--sui-progress-bar-compact-label-margin-bottom, 0.125rem); /* mb-0.5 */
    }
    
    .sui-progress-bar-percentage {
      font-size: var(--sui-progress-bar-compact-percentage-font-size, 0.625rem); /* text-xs */
    }
  }

  &.thick {
    height: var(--sui-progress-bar-thick-height, 1rem); /* h-4 */
    
    .sui-progress-bar-label {
      font-size: var(--sui-progress-bar-thick-label-font-size, 1rem); /* text-base */
      margin-bottom: var(--sui-progress-bar-thick-label-margin-bottom, 0.5rem); /* mb-2 */
    }
    
    .sui-progress-bar-percentage {
      font-size: var(--sui-progress-bar-thick-percentage-font-size, 0.875rem); /* text-sm */
    }
  }
}

@keyframes sui-progress-bar-stripes {
  0% {
    background-position: var(--sui-progress-bar-stripe-start-position, 1rem 0);
  }
  100% {
    background-position: var(--sui-progress-bar-stripe-end-position, 0 0);
  }
}

@keyframes sui-progress-bar-indeterminate {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .sui-progress-bar {
    background-color: var(--sui-progress-bar-dark-bg, #374151); /* bg-gray-700 */

    &-label {
      color: var(--sui-progress-bar-dark-label-color, #d1d5db); /* text-gray-300 */
    }

    &-percentage {
      color: var(--sui-progress-bar-dark-percentage-color, #9ca3af); /* text-gray-400 */
    }

    &-steps .sui-progress-bar-step {
      background-color: var(--sui-progress-bar-dark-step-bg, #374151); /* bg-gray-700 */
    }
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .sui-progress-bar {
    border: var(--sui-progress-bar-high-contrast-border, 2px solid currentColor);

    &-fill {
      border: var(--sui-progress-bar-high-contrast-fill-border, 1px solid currentColor);
    }

    &-label {
      font-weight: var(--sui-progress-bar-high-contrast-label-font-weight, 600); /* font-semibold */
    }
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .sui-progress-bar {
    &-fill {
      transition: none;
    }

    &-animated &-fill::after {
      animation: none;
    }

    &-indeterminate .sui-progress-bar-fill {
      animation: none;
      background: var(--sui-progress-bar-reduced-motion-bg, #3b82f6);
    }
  }

  @keyframes sui-progress-bar-stripes {
    0%, 100% {
      background-position: 0 0;
    }
  }

  @keyframes sui-progress-bar-indeterminate {
    0%, 100% {
      transform: translateX(0);
    }
  }
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .sui-progress-bar {
    height: var(--sui-progress-bar-mobile-height, 0.375rem); /* h-1.5 */

    &-label {
      font-size: var(--sui-progress-bar-mobile-label-font-size, 0.75rem); /* text-xs */
      margin-bottom: var(--sui-progress-bar-mobile-label-margin-bottom, 0.125rem); /* mb-0.5 */
    }

    &-percentage {
      font-size: var(--sui-progress-bar-mobile-percentage-font-size, 0.625rem); /* text-xs */
    }

    &-value {
      font-size: var(--sui-progress-bar-mobile-value-font-size, 0.625rem); /* text-xs */
    }

    &-steps {
      gap: var(--sui-progress-bar-mobile-steps-gap, 0.125rem); /* gap-0.5 */
      
      .sui-progress-bar-step {
        height: var(--sui-progress-bar-mobile-step-height, 0.375rem); /* h-1.5 */
      }
    }
  }
}