<div class="sui-knob" [class]="getKnobClass()" [style]="getKnobStyle()">
  <div class="sui-knob-container">
    <svg 
      #knobElement
      [attr.width]="size" 
      [attr.height]="size" 
      viewBox="0 0 100 100"
      class="sui-knob-svg"
    >
      <!-- Background circle with gradient -->
      <defs>
        <linearGradient id="trackGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:var(--sui-knob-track-background, #f8fafc);stop-opacity:1" />
          <stop offset="100%" style="stop-color:var(--sui-knob-border, #e2e8f0);stop-opacity:1" />
        </linearGradient>
        <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:var(--sui-knob-primary, #3b82f6);stop-opacity:1" />
          <stop offset="50%" style="stop-color:var(--sui-knob-primary-hover, #1d4ed8);stop-opacity:1" />
          <stop offset="100%" style="stop-color:var(--sui-knob-primary-hover, #1e40af);stop-opacity:1" />
        </linearGradient>
        <filter id="glow">
          <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
          <feMerge> 
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>
      
      <!-- Track circle -->
      <circle
        cx="50"
        cy="50"
        r="42"
        fill="url(#trackGradient)"
        [attr.stroke]="'var(--sui-knob-track-border, #cbd5e1)'"
        [attr.stroke-width]="strokeWidth * 0.3"
        class="sui-knob-track"
      />
      
      <!-- Progress circle -->
      <circle
        cx="50"
        cy="50"
        r="42"
        fill="none"
        stroke="url(#progressGradient)"
        [attr.stroke-width]="strokeWidth"
        [style]="getProgressStyle()"
        class="sui-knob-progress"
        filter="url(#glow)"
      />
      
      <!-- Center dot indicator -->
      <circle
        cx="50"
        cy="50"
        r="3"
        [attr.fill]="'var(--sui-knob-background, #ffffff)'"
        [attr.stroke]="'var(--sui-knob-primary, #3b82f6)'"
        stroke-width="1"
        class="sui-knob-indicator"
        [style]="getIndicatorStyle()"
      />
      
      <!-- Tick marks -->
      <g class="sui-knob-ticks">
        <line *ngFor="let tick of getTickMarks()" 
              [attr.x1]="tick.x1" 
              [attr.y1]="tick.y1" 
              [attr.x2]="tick.x2" 
              [attr.y2]="tick.y2" 
              [attr.stroke]="'var(--sui-knob-text-muted, #64748b)'"
              stroke-width="0.5" 
              class="sui-knob-tick" />
      </g>
    </svg>
    
    <!-- Value display -->
    <div *ngIf="shouldShowValue()" class="sui-knob-value">
      <span class="sui-knob-value-number">{{ getDisplayValue() }}</span>
      <span *ngIf="unit" class="sui-knob-value-unit">{{ unit }}</span>
    </div>
    
    <!-- Label -->
    <div *ngIf="label" class="sui-knob-label">{{ label }}</div>
  </div>
</div>
