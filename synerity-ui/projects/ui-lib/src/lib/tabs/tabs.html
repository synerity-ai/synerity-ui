<div class="w-full bg-white border border-gray-200 rounded-lg shadow-sm" 
     [class]="styleClass" 
     [style]="getTabsStyle()"
     [class.flex]="orientation === 'left' || orientation === 'right'"
     [class.flex-row]="orientation === 'left'"
     [class.flex-row-reverse]="orientation === 'right'">
  
  <!-- Tab Navigation -->
  <div class="bg-gray-50" 
       [class.border-b]="orientation === 'top'"
       [class.border-r]="orientation === 'left'"
       [class.border-l]="orientation === 'right'"
       [class.border-gray-200]="true"
       [class.flex]="orientation === 'top' || orientation === 'bottom'"
       [class.flex-col]="orientation === 'left' || orientation === 'right'"
       [class.flex-row]="orientation === 'top' || orientation === 'bottom'"
       [class.min-w-[200px]]="orientation === 'left' || orientation === 'right'">
    
    <div 
      *ngFor="let tab of tabs; let i = index" 
      class="relative flex items-center px-6 py-4 text-sm font-medium transition-colors duration-200 cursor-pointer"
      [class.border-b-2]="orientation === 'top' || orientation === 'bottom'"
      [class.border-l-4]="orientation === 'left'"
      [class.border-r-4]="orientation === 'right'"
      [class.!border-blue-600]="isTabActive(i)"
      [class.!text-blue-700]="isTabActive(i)"
      [class.bg-white]="isTabActive(i)"
      [class.border-transparent]="!isTabActive(i)"
      [class.text-gray-600]="!isTabActive(i)"
      [class.hover:text-gray-900]="!isTabActive(i) && !isTabDisabled(i)"
      [class.hover:bg-gray-100]="!isTabActive(i) && !isTabDisabled(i)"
      [class.hover:border-gray-300]="!isTabActive(i) && !isTabDisabled(i)"
      [class.opacity-50]="isTabDisabled(i)"
      [class.cursor-not-allowed]="isTabDisabled(i)"
      [class.cursor-pointer]="!isTabDisabled(i)"
      (click)="setActiveIndex(i)"
    >
      <!-- Tab Icon -->
      <span *ngIf="tab.icon" class="mr-2 text-base">{{ tab.icon }}</span>
      
      <!-- Tab Label -->
      <span class="font-medium">{{ tab.header }}</span>
      
      <!-- Close Button -->
      <button 
        *ngIf="tab.closable" 
        class="ml-3 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1 rounded transition-colors duration-200"
        (click)="closeTab(i); $event.stopPropagation()"
      >
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
  </div>
  
  <!-- Tab Content -->
  <div *ngIf="tabs[activeIndex]" 
       class="p-6 bg-white"
       [class.flex-1]="orientation === 'left' || orientation === 'right'">
    <ng-content></ng-content>
  </div>
</div>
