<div class="sui-timeline" [class]="getLayoutClass()">
  <!-- Vertical Timeline -->
  <div *ngIf="layout === 'vertical'" class="sui-timeline-vertical">
    <!-- Timeline Line -->
    <div class="sui-timeline-line"></div>
    
    <div 
      *ngFor="let event of value; let i = index" 
      class="sui-timeline-item"
      [class]="getAlignmentClass(i)"
      (click)="onEventClickHandler(event)"
    >
      <!-- Timeline Marker -->
      <div class="sui-timeline-marker"
           [class.sui-timeline-marker-completed]="event.status === 'completed'"
           [class.sui-timeline-marker-success]="event.status === 'success'"
           [class.sui-timeline-marker-error]="event.status === 'error'"
           [class.sui-timeline-marker-warning]="event.status === 'warning'">
        <span *ngIf="event.icon" class="sui-timeline-icon">{{ event.icon }}</span>
        <span *ngIf="!event.icon && event.status === 'completed'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && event.status === 'success'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && event.status === 'error'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && event.status === 'warning'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && !event.status" class="sui-timeline-dot sui-timeline-dot-default"></span>
      </div>
      
      <!-- Timeline Content -->
      <div class="sui-timeline-content">
        <div class="sui-timeline-card">
          <div *ngIf="event.date" class="sui-timeline-date">{{ event.date }}</div>
          <div *ngIf="event.content" class="sui-timeline-text">{{ event.content }}</div>
          <ng-content></ng-content>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Horizontal Timeline -->
  <div *ngIf="layout === 'horizontal'" class="sui-timeline-horizontal">
    <div 
      *ngFor="let event of value; let i = index" 
      class="sui-timeline-item-horizontal"
      (click)="onEventClickHandler(event)"
    >
      <!-- Timeline Marker -->
      <div class="sui-timeline-marker sui-timeline-marker-horizontal"
           [class.sui-timeline-marker-completed]="event.status === 'completed'"
           [class.sui-timeline-marker-success]="event.status === 'success'"
           [class.sui-timeline-marker-error]="event.status === 'error'"
           [class.sui-timeline-marker-warning]="event.status === 'warning'">
        <span *ngIf="event.icon" class="sui-timeline-icon">{{ event.icon }}</span>
        <span *ngIf="!event.icon && event.status === 'completed'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && event.status === 'success'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && event.status === 'error'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && event.status === 'warning'" class="sui-timeline-dot"></span>
        <span *ngIf="!event.icon && !event.status" class="sui-timeline-dot sui-timeline-dot-default"></span>
      </div>
      
      <!-- Timeline Content -->
      <div class="sui-timeline-content-horizontal">
        <div *ngIf="event.date" class="sui-timeline-date-horizontal">{{ event.date }}</div>
        <div *ngIf="event.content" class="sui-timeline-text-horizontal">{{ event.content }}</div>
        <ng-content></ng-content>
      </div>
    </div>
  </div>
</div>
